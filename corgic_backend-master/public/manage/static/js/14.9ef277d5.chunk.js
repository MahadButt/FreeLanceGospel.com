(this.webpackJsonpadmin_cogic=this.webpackJsonpadmin_cogic||[]).push([[14],{306:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return o}));var n={UNREAD:0,READ:1},r={NORMAL:1,MAINTENANCE:2,LOCKDOWN:3},c={PENDING:0,ACTIVE:1,DISABLED:2},l="https://library-cdn.s3-us-west-1.amazonaws.com",o="https://thegospelpage.com/"},308:function(e,t,a){"use strict";var n=a(320),r=a.n(n),c=a(306),l=r.a.create({baseURL:"".concat(c.a,"api")});t.a=l},554:function(e,t,a){"use strict";a.r(t);var n=a(315),r=a.n(n),c=a(316),l=a(43),o=a(0),i=a.n(o),u=a(299),s=a(556),d=a(558),m=a(544),f=a(301),g=a(561),b=a(98),p=a(25),E=a(308),h=a(363),v=a.n(h),w=a(29);t.default=function(){var e=Object(o.useContext)(w.a),t=Object(o.useState)(null),a=Object(l.a)(t,2),n=a[0],h=a[1],O=Object(o.useState)(0),j=Object(l.a)(O,2),C=j[0],y=j[1],N=Object(o.useState)(null),k=Object(l.a)(N,2),A=k[0],x=k[1],S=Object(o.useState)(!1),D=Object(l.a)(S,2),I=D[0],R=D[1],M=Object(o.useState)(!1),z=Object(l.a)(M,2),B=z[0],P=z[1];Object(o.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,0!==C&&1!==C&&(t=15*C),e.next=4,E.a.get("/blog/get-blogs/50/?offset=".concat(t));case 4:a=e.sent,n=a.data,h(n.blogs),x(Math.floor(n.count/15)),P(!0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[C]);var _=function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return R(!0),t.prev=1,t.next=4,E.a.delete("/admin/blog/".concat(a),{headers:{Authorization:"Bearer ".concat(e.admin.token)}});case 4:n=t.sent,n.data?window.location.reload():b.b.error("Something went wrong, try again later!"),R(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),H=null;if(B||n)if(n.length>0){var L=n.map((function(e,t){return i.a.createElement(s.a.Row,{key:e.id},i.a.createElement(s.a.Cell,{width:"12"},i.a.createElement(d.a,{as:"h4",image:!0},i.a.createElement(d.a.Content,{as:"a",target:"_blank",href:"/"},e.title,i.a.createElement(d.a.Subheader,null,i.a.createElement(m.a,{position:"bottom left",size:"tiny",content:v()(e.created_at).format("Do MMMM YYYY, h:mm a"),trigger:i.a.createElement("p",null,"Created ",v()(e.created_at).fromNow())}))))),i.a.createElement(s.a.Cell,{width:"4"},i.a.createElement(f.a,{title:"Edit Blog",style:{marginRight:"10px"},as:p.b,to:"/new-blog/?edit=true&id=".concat(e.id),primary:!0,circular:!0,icon:"edit"}),i.a.createElement(f.a,{title:"Delete Blog",negative:!0,circular:!0,icon:"trash",onClick:function(){return _(e.id)},loading:I,disabled:I})))}));H=i.a.createElement(s.a,{celled:!0,stackable:!1},i.a.createElement(s.a.Header,null,i.a.createElement(s.a.Row,null,i.a.createElement(s.a.HeaderCell,null,"Title"),i.a.createElement(s.a.HeaderCell,null,"Action"))),i.a.createElement(s.a.Body,null,L),A>1&&i.a.createElement(s.a.Footer,null,i.a.createElement(s.a.Row,null,i.a.createElement(s.a.HeaderCell,{colSpan:"3"},i.a.createElement(g.a,{firstItem:null,lastItem:null,prevItem:null,nextItem:null,activePage:C,totalPages:A,onPageChange:function(e,t){var a=t.activePage;return y(a)}})))))}else H=i.a.createElement(d.a,{size:"large",textAlign:"center"},"No stories have been created yet!");else H=i.a.createElement(u.a,{size:"medium",active:!0});return i.a.createElement("div",{className:"padded-content"},i.a.createElement(d.a,{size:"huge",dividing:!0},"Blogs"),H)}}}]);
//# sourceMappingURL=14.9ef277d5.chunk.js.map