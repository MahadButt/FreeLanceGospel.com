{"version":3,"sources":["utils/consts.js","utils/axiosInstance.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/semantic-ui-react/dist/es/elements/Input/Input.js","pages/Library/Library.js"],"names":["msgStatus","UNREAD","READ","siteStatusLiteral","NORMAL","MAINTENANCE","LOCKDOWN","userStatus","PENDING","ACTIVE","DISABLED","S3_BASE","API_ROOT","instance","axios","create","baseURL","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","Input","_Component","_getPrototypeOf2","_this","_classCallCheck","this","_len","arguments","length","args","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","concat","_defineProperty","_assertThisInitialized","createRef","_this$props","props","loading","icon","_isNil","_this$props2","disabled","tabIndex","inputRef","current","focus","select","e","value","_get","_invoke","_objectSpread","child","defaultProps","ref","c","handleRef","_this$props3","type","computeTabIndex","unhandled","getUnhandledProps","_partitionHTMLProps","partitionHTMLProps","_partitionHTMLProps2","_slicedToArray","htmlInputProps","rest","onChange","handleChange","_inherits","_createClass","key","_this2","_this$props4","action","actionPosition","children","className","error","fluid","iconPosition","input","inverted","label","labelPosition","size","transparent","classes","cx","useKeyOnly","useValueAndKey","ElementType","getElementType","_this$partitionProps","partitionProps","_this$partitionProps2","childrenUtils","isNil","childElements","_map","Children","toArray","cloneElement","handleChildOverrides","React","createElement","_extends","actionElement","Button","autoGenerateKey","labelElement","Label","_includes","createHTMLInput","Icon","computeIcon","Component","propTypes","createShorthandFactory","Library","auth","useContext","AuthContext","useState","documents","setDocuments","library","setLibrary","activePage","setActivePage","pageCount","setPageCount","loaded","setLoaded","saving","setSaving","useEffect","a","offset","get","headers","Authorization","admin","token","data","Math","ceil","count","console","log","loadLibrary","libraryJSX","libraryRows","map","lib","index","Row","id","Cell","width","style","fontWeight","title","marginRight","color","circular","as","href","document_url","rel","target","celled","stackable","Header","HeaderCell","Body","Footer","colSpan","firstItem","lastItem","prevItem","nextItem","totalPages","onPageChange","event","textAlign","active","handleDocument","Promise","all","document","object","name","documentUrl","put","url","status","post","window","location","reload","onFileSelect","files","toast","i","push","dividing","accept","hidden","multiple","htmlFor","primary","marginBottom","placeholder","updatedDocuments","handleTitle","onClick"],"mappings":"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","file":"static/js/11.3a819bfe.chunk.js","sourcesContent":["\r\nexport const msgStatus = {\r\n    UNREAD: 0,\r\n    READ: 1\r\n}\r\n\r\nexport const siteStatusLiteral = {\r\n    NORMAL: 1,\r\n    MAINTENANCE: 2,\r\n    LOCKDOWN: 3\r\n}\r\n\r\nexport const userStatus = {\r\n    PENDING: 0,\r\n    ACTIVE: 1,\r\n    DISABLED: 2\r\n}\r\n\r\nconst dev = \"http://localhost:5000/\";\r\nconst prod = \"https://thegospelpage.com/\";\r\n\r\nexport const S3_BASE = \"https://library-cdn.s3-us-west-1.amazonaws.com\";\r\n\r\nexport const API_ROOT = prod;","import axios from \"axios\";\r\nimport { API_ROOT } from \"./consts\";\r\n\r\nconst instance = axios.create({ baseURL: `${API_ROOT}api` });\r\n\r\nexport default instance;","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _includes from \"lodash/includes\";\nimport _map from \"lodash/map\";\nimport _invoke from \"lodash/invoke\";\nimport _get from \"lodash/get\";\nimport _isNil from \"lodash/isNil\";\nimport { handleRef } from '@stardust-ui/react-component-ref';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Children, cloneElement, Component, createRef } from 'react';\nimport { childrenUtils, createHTMLInput, createShorthandFactory, customPropTypes, getElementType, getUnhandledProps, partitionHTMLProps, useKeyOnly, useValueAndKey } from '../../lib';\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport Label from '../Label';\n/**\n * An Input is a field used to elicit a response from a user.\n * @see Button\n * @see Form\n * @see Icon\n * @see Label\n */\n\nvar Input =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Input, _Component);\n\n  function Input() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Input);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Input)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"inputRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"computeIcon\", function () {\n      var _this$props = _this.props,\n          loading = _this$props.loading,\n          icon = _this$props.icon;\n      if (!_isNil(icon)) return icon;\n      if (loading) return 'spinner';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"computeTabIndex\", function () {\n      var _this$props2 = _this.props,\n          disabled = _this$props2.disabled,\n          tabIndex = _this$props2.tabIndex;\n      if (!_isNil(tabIndex)) return tabIndex;\n      if (disabled) return -1;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", function () {\n      return _this.inputRef.current.focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"select\", function () {\n      return _this.inputRef.current.select();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (e) {\n      var value = _get(e, 'target.value');\n\n      _invoke(_this.props, 'onChange', e, _objectSpread({}, _this.props, {\n        value: value\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChildOverrides\", function (child, defaultProps) {\n      return _objectSpread({}, defaultProps, child.props, {\n        ref: function ref(c) {\n          handleRef(child.ref, c);\n          _this.inputRef.current = c;\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"partitionProps\", function () {\n      var _this$props3 = _this.props,\n          disabled = _this$props3.disabled,\n          type = _this$props3.type;\n\n      var tabIndex = _this.computeTabIndex();\n\n      var unhandled = getUnhandledProps(Input, _this.props);\n\n      var _partitionHTMLProps = partitionHTMLProps(unhandled),\n          _partitionHTMLProps2 = _slicedToArray(_partitionHTMLProps, 2),\n          htmlInputProps = _partitionHTMLProps2[0],\n          rest = _partitionHTMLProps2[1];\n\n      return [_objectSpread({}, htmlInputProps, {\n        disabled: disabled,\n        type: type,\n        tabIndex: tabIndex,\n        onChange: _this.handleChange,\n        ref: _this.inputRef\n      }), rest];\n    });\n\n    return _this;\n  }\n\n  _createClass(Input, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props4 = this.props,\n          action = _this$props4.action,\n          actionPosition = _this$props4.actionPosition,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          disabled = _this$props4.disabled,\n          error = _this$props4.error,\n          fluid = _this$props4.fluid,\n          focus = _this$props4.focus,\n          icon = _this$props4.icon,\n          iconPosition = _this$props4.iconPosition,\n          input = _this$props4.input,\n          inverted = _this$props4.inverted,\n          label = _this$props4.label,\n          labelPosition = _this$props4.labelPosition,\n          loading = _this$props4.loading,\n          size = _this$props4.size,\n          transparent = _this$props4.transparent,\n          type = _this$props4.type;\n      var classes = cx('ui', size, useKeyOnly(disabled, 'disabled'), useKeyOnly(error, 'error'), useKeyOnly(fluid, 'fluid'), useKeyOnly(focus, 'focus'), useKeyOnly(inverted, 'inverted'), useKeyOnly(loading, 'loading'), useKeyOnly(transparent, 'transparent'), useValueAndKey(actionPosition, 'action') || useKeyOnly(action, 'action'), useValueAndKey(iconPosition, 'icon') || useKeyOnly(icon || loading, 'icon'), useValueAndKey(labelPosition, 'labeled') || useKeyOnly(label, 'labeled'), 'input', className);\n      var ElementType = getElementType(Input, this.props);\n\n      var _this$partitionProps = this.partitionProps(),\n          _this$partitionProps2 = _slicedToArray(_this$partitionProps, 2),\n          htmlInputProps = _this$partitionProps2[0],\n          rest = _this$partitionProps2[1]; // Render with children\n      // ----------------------------------------\n\n\n      if (!childrenUtils.isNil(children)) {\n        // add htmlInputProps to the `<input />` child\n        var childElements = _map(Children.toArray(children), function (child) {\n          if (child.type !== 'input') return child;\n          return cloneElement(child, _this2.handleChildOverrides(child, htmlInputProps));\n        });\n\n        return React.createElement(ElementType, _extends({}, rest, {\n          className: classes\n        }), childElements);\n      } // Render Shorthand\n      // ----------------------------------------\n\n\n      var actionElement = Button.create(action, {\n        autoGenerateKey: false\n      });\n      var labelElement = Label.create(label, {\n        defaultProps: {\n          className: cx('label', // add 'left|right corner'\n          _includes(labelPosition, 'corner') && labelPosition)\n        },\n        autoGenerateKey: false\n      });\n      return React.createElement(ElementType, _extends({}, rest, {\n        className: classes\n      }), actionPosition === 'left' && actionElement, labelPosition !== 'right' && labelElement, createHTMLInput(input || type, {\n        defaultProps: htmlInputProps,\n        autoGenerateKey: false\n      }), Icon.create(this.computeIcon(), {\n        autoGenerateKey: false\n      }), actionPosition !== 'left' && actionElement, labelPosition === 'right' && labelElement);\n    }\n  }]);\n\n  return Input;\n}(Component);\n\n_defineProperty(Input, \"defaultProps\", {\n  type: 'text'\n});\n\n_defineProperty(Input, \"handledProps\", [\"action\", \"actionPosition\", \"as\", \"children\", \"className\", \"disabled\", \"error\", \"fluid\", \"focus\", \"icon\", \"iconPosition\", \"input\", \"inverted\", \"label\", \"labelPosition\", \"loading\", \"onChange\", \"size\", \"tabIndex\", \"transparent\", \"type\"]);\n\nInput.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** An Input can be formatted to alert the user to an action they may perform. */\n  action: PropTypes.oneOfType([PropTypes.bool, customPropTypes.itemShorthand]),\n\n  /** An action can appear along side an Input on the left or right. */\n  actionPosition: PropTypes.oneOf(['left']),\n\n  /** Primary content. */\n  children: PropTypes.node,\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** An Input field can show that it is disabled. */\n  disabled: PropTypes.bool,\n\n  /** An Input field can show the data contains errors. */\n  error: PropTypes.bool,\n\n  /** Take on the size of its container. */\n  fluid: PropTypes.bool,\n\n  /** An Input field can show a user is currently interacting with it. */\n  focus: PropTypes.bool,\n\n  /** Optional Icon to display inside the Input. */\n  icon: PropTypes.oneOfType([PropTypes.bool, customPropTypes.itemShorthand]),\n\n  /** An Icon can appear inside an Input on the left or right. */\n  iconPosition: PropTypes.oneOf(['left']),\n\n  /** Shorthand for creating the HTML Input. */\n  input: customPropTypes.itemShorthand,\n\n  /** Format to appear on dark backgrounds. */\n  inverted: PropTypes.bool,\n\n  /** Optional Label to display along side the Input. */\n  label: customPropTypes.itemShorthand,\n\n  /** A Label can appear outside an Input on the left or right. */\n  labelPosition: PropTypes.oneOf(['left', 'right', 'left corner', 'right corner']),\n\n  /** An Icon Input field can show that it is currently loading data. */\n  loading: PropTypes.bool,\n\n  /**\n   * Called on change.\n   *\n   * @param {ChangeEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and a proposed value.\n   */\n  onChange: PropTypes.func,\n\n  /** An Input can vary in size. */\n  size: PropTypes.oneOf(['mini', 'small', 'large', 'big', 'huge', 'massive']),\n\n  /** An Input can receive focus. */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /** Transparent Input has no background. */\n  transparent: PropTypes.bool,\n\n  /** The HTML input type. */\n  type: PropTypes.string\n} : {};\nInput.create = createShorthandFactory(Input, function (type) {\n  return {\n    type: type\n  };\n});\nexport default Input;","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Header, Button, Icon, Pagination, Loader, Table, Label, Input } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport axios from \"../../utils/axiosInstance\";\r\n\r\nimport { S3_BASE } from \"../../utils/consts\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\n\r\nimport \"./Library.scss\";\r\n\r\nconst Library = () => {\r\n\r\n    const auth = useContext(AuthContext);\r\n\r\n    const [documents, setDocuments] = useState([]);\r\n    const [library, setLibrary] = useState(null);\r\n    const [activePage, setActivePage] = useState(0);\r\n    const [pageCount, setPageCount] = useState(null);\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [saving, setSaving] = useState(false);\r\n\r\n    useEffect(() => {\r\n\r\n        async function loadLibrary() {\r\n\r\n            try {\r\n                \r\n                let offset = 0;\r\n    \r\n                if (activePage !== 0) {\r\n                    offset = (activePage - 1) * 15;\r\n                }\r\n    \r\n                const { data } = await axios.get(\r\n                    `/admin/library/?type=all&limit=15&offset=${offset}`, \r\n                    { headers: { Authorization: `Bearer ${auth.admin.token}` } }\r\n                );\r\n    \r\n                setLibrary(data.library);\r\n                setPageCount(Math.ceil(data.count / 15));\r\n                setLoaded(true);\r\n\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n\r\n        loadLibrary();\r\n\r\n    }, [activePage]);\r\n\r\n    const handlePageChange = (event, { activePage }) => setActivePage(activePage);\r\n\r\n    let libraryJSX = null;\r\n\r\n    if (!loaded && !library) {\r\n\r\n        libraryJSX = <Loader size=\"medium\" active />;\r\n\r\n    } else if (library.length > 0) {\r\n\r\n        let libraryRows = library.map((lib, index) => {\r\n\r\n            return (\r\n                <Table.Row key={lib.id}>\r\n                    <Table.Cell width=\"2\">\r\n                        {index + 1}\r\n                    </Table.Cell>\r\n                    <Table.Cell width=\"12\">\r\n                        <span style={{ fontWeight: \"bold\" }}>\r\n                            {lib.title}\r\n                        </span>\r\n                    </Table.Cell>\r\n                    <Table.Cell width=\"2\">\r\n                        <Button\r\n                            title=\"Open Link in New Tab\"\r\n                            style={{ marginRight: \"10px\" }}\r\n                            color=\"teal\"\r\n                            circular\r\n                            as=\"a\"\r\n                            href={lib.document_url}\r\n                            rel=\"noopener noreferrer\"\r\n                            target=\"_blank\"\r\n                            icon=\"external alternate\"\r\n                        />\r\n                    </Table.Cell>\r\n                </Table.Row>\r\n            );\r\n        });\r\n\r\n        libraryJSX = (\r\n            <Table celled stackable={false}>\r\n                <Table.Header>\r\n                    <Table.Row>\r\n                        <Table.HeaderCell>Index</Table.HeaderCell>\r\n                        <Table.HeaderCell>Title</Table.HeaderCell>\r\n                        <Table.HeaderCell>Action</Table.HeaderCell>\r\n                    </Table.Row>\r\n                </Table.Header>\r\n\r\n                <Table.Body>\r\n                    {libraryRows}\r\n                </Table.Body>\r\n\r\n                {\r\n                    pageCount > 1 &&\r\n                    <Table.Footer>\r\n                        <Table.Row>\r\n                            <Table.HeaderCell colSpan=\"3\">\r\n                                <Pagination\r\n                                    firstItem={null}\r\n                                    lastItem={null}\r\n                                    prevItem={null}\r\n                                    nextItem={null}\r\n                                    activePage={activePage}\r\n                                    totalPages={pageCount}\r\n                                    onPageChange={handlePageChange}\r\n                                />\r\n                            </Table.HeaderCell>\r\n                        </Table.Row>\r\n                    </Table.Footer>\r\n                }\r\n            </Table>\r\n        );\r\n\r\n    } else {\r\n        libraryJSX = (\r\n            <Header size=\"medium\" textAlign=\"center\">\r\n                Nothing has been added yet!\r\n            </Header>\r\n        )\r\n    }\r\n\r\n    const handleDocument = async () => {\r\n\r\n        setSaving(true);\r\n\r\n        try {\r\n\r\n            const result = await Promise.all(documents.map(async document => {\r\n\r\n                const documentUrl = await axios.get(\r\n                    `/admin/signed-url/?type=${document.object.type}&name=${document.object.name}`,\r\n                    { headers: { Authorization: `Bearer ${auth.admin.token}` } }\r\n                );\r\n\r\n                const { status } = await axios.put(\r\n                    documentUrl.data.url, document.object,\r\n                    { headers: { \"Content-Type\": document.object.type } }\r\n                );\r\n\r\n                if (status === 200) {\r\n\r\n                    return axios.post(\r\n                        \"/admin/library\",\r\n                        { title: document.title, document_url: `${S3_BASE}/${documentUrl.data.key}` },\r\n                        { headers: { Authorization: `Bearer ${auth.admin.token}` } }\r\n                    );\r\n                }\r\n\r\n            }));\r\n\r\n            if (result) {\r\n                window.location.reload();\r\n            }\r\n\r\n        } catch (err) {\r\n            console.log(err);\r\n            setSaving(false);\r\n        }\r\n    }\r\n\r\n    const onFileSelect = async (event) => {\r\n\r\n        if (event.target.files.length > 5) {\r\n            return toast.error(\"Only 5 at a time!\");\r\n        }\r\n\r\n        const data = [];\r\n\r\n        for (let i = 0; i < event.target.files.length; i++) {\r\n            data.push({\r\n                title: \"\",\r\n                object: event.target.files[i]\r\n            });\r\n        }\r\n\r\n        setDocuments(data);\r\n    }\r\n\r\n    const handleTitle = (index, value) => {\r\n        \r\n        const updatedDocuments = [...documents];\r\n        updatedDocuments[index].title = value;\r\n\r\n        setDocuments(updatedDocuments);\r\n    }\r\n\r\n    return (\r\n        <div className=\"Users\">\r\n            <Header size=\"huge\" dividing>\r\n                Library\r\n            </Header>\r\n            <div>\r\n                {\r\n                    documents.length === 0 &&\r\n                    <div>\r\n                        <input\r\n                            accept=\"*\"\r\n                            hidden\r\n                            id=\"contained-button-file\"\r\n                            multiple\r\n                            type=\"file\"\r\n                            onChange={(event => onFileSelect(event))}\r\n                        />\r\n                        <label htmlFor=\"contained-button-file\">\r\n                            <Button\r\n                                style={{ fontWeight: \"normal\" }}\r\n                                size=\"large\"\r\n                                primary\r\n                                as=\"span\"\r\n                                icon\r\n                                labelPosition=\"right\"\r\n                            >\r\n                                Upload Photos\r\n                                <Icon name=\"upload\" />\r\n                            </Button>\r\n                        </label>\r\n                    </div>\r\n                }\r\n                {\r\n                    documents.length > 0 &&\r\n                    <div>\r\n                        {\r\n                            documents.map((document, index) => (\r\n                                <div key={document.object.name} style={{ marginBottom: \"20px\" }}>\r\n                                    <div className=\"accounts-input\">\r\n                                        <label className=\"util-bold\">Document Title</label>\r\n                                        <Input \r\n                                            placeholder=\"Enter file title\"\r\n                                            onChange={(event, { value }) => handleTitle(index, value)}\r\n                                        />\r\n                                    </div>\r\n                                    <Label>\r\n                                        {document.object.name}\r\n                                        <Icon name=\"delete\" />\r\n                                    </Label>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                        <Button\r\n                            primary\r\n                            fluid\r\n                            icon\r\n                            size=\"large\"\r\n                            labelPosition=\"right\"\r\n                            loading={saving}\r\n                            disabled={saving}\r\n                            style={{ fontWeight: \"normal\" }}\r\n                            onClick={handleDocument}\r\n                        >\r\n                            Upload to Library\r\n                        </Button>\r\n                    </div>\r\n                }\r\n            </div>\r\n\r\n            <Header size=\"large\" dividing>\r\n                Index Table\r\n            </Header>\r\n            {libraryJSX}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Library;"],"sourceRoot":""}