(this.webpackJsonpadmin_cogic=this.webpackJsonpadmin_cogic||[]).push([[11],{306:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return l}));var n={UNREAD:0,READ:1},r={NORMAL:1,MAINTENANCE:2,LOCKDOWN:3},c={PENDING:0,ACTIVE:1,DISABLED:2},i="https://library-cdn.s3-us-west-1.amazonaws.com",l="https://thegospelpage.com/"},308:function(e,t,a){"use strict";var n=a(320),r=a.n(n),c=a(306),i=r.a.create({baseURL:"".concat(c.a,"api")});t.a=i},343:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(78);var r=a(102);function c(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},476:function(e,t,a){"use strict";var n=a(5),r=a.n(n),c=a(101),i=a.n(c),l=a(23),o=a.n(l),u=a(11),s=a.n(u),d=a(12),p=a.n(d),f=a(13),b=a.n(f),m=a(14),h=a.n(m),v=a(4),g=a.n(v),y=a(15),j=a.n(y),O=a(2),E=a.n(O),x=a(97),C=a.n(x),w=a(47),k=a.n(w),P=a(7),I=a.n(P),N=a(145),A=a.n(N),R=a(9),z=a.n(R),S=a(33),T=a(3),D=a.n(T),L=(a(1),a(0)),B=a.n(L),G=a(61),H=a(38),K=a(16),U=a(60),_=a(6),W=a(90),M=a(301),F=a(35),J=a(63),V=function(e){function t(){var e,a;s()(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=b()(this,(e=h()(t)).call.apply(e,[this].concat(r))),E()(g()(a),"inputRef",Object(L.createRef)()),E()(g()(a),"computeIcon",(function(){var e=a.props,t=e.loading,n=e.icon;return z()(n)?t?"spinner":void 0:n})),E()(g()(a),"computeTabIndex",(function(){var e=a.props,t=e.disabled,n=e.tabIndex;return z()(n)?t?-1:void 0:n})),E()(g()(a),"focus",(function(){return a.inputRef.current.focus()})),E()(g()(a),"select",(function(){return a.inputRef.current.select()})),E()(g()(a),"handleChange",(function(e){var t=A()(e,"target.value");I()(a.props,"onChange",e,o()({},a.props,{value:t}))})),E()(g()(a),"handleChildOverrides",(function(e,t){return o()({},t,e.props,{ref:function(t){Object(S.a)(e.ref,t),a.inputRef.current=t}})})),E()(g()(a),"partitionProps",(function(){var e=a.props,n=e.disabled,r=e.type,c=a.computeTabIndex(),l=Object(G.a)(t,a.props),u=Object(H.c)(l),s=i()(u,2),d=s[0],p=s[1];return[o()({},d,{disabled:n,type:r,tabIndex:c,onChange:a.handleChange,ref:a.inputRef}),p]})),a}return j()(t,e),p()(t,[{key:"render",value:function(){var e=this,a=this.props,n=a.action,c=a.actionPosition,l=a.children,o=a.className,u=a.disabled,s=a.error,d=a.fluid,p=a.focus,f=a.icon,b=a.iconPosition,m=a.input,h=a.inverted,v=a.label,g=a.labelPosition,y=a.loading,j=a.size,O=a.transparent,E=a.type,x=D()("ui",j,Object(K.a)(u,"disabled"),Object(K.a)(s,"error"),Object(K.a)(d,"fluid"),Object(K.a)(p,"focus"),Object(K.a)(h,"inverted"),Object(K.a)(y,"loading"),Object(K.a)(O,"transparent"),Object(K.e)(c,"action")||Object(K.a)(n,"action"),Object(K.e)(b,"icon")||Object(K.a)(f||y,"icon"),Object(K.e)(g,"labeled")||Object(K.a)(v,"labeled"),"input",o),w=Object(U.a)(t,this.props),P=this.partitionProps(),I=i()(P,2),N=I[0],A=I[1];if(!_.a.isNil(l)){var R=k()(L.Children.toArray(l),(function(t){return"input"!==t.type?t:Object(L.cloneElement)(t,e.handleChildOverrides(t,N))}));return B.a.createElement(w,r()({},A,{className:x}),R)}var z=M.a.create(n,{autoGenerateKey:!1}),S=J.a.create(v,{defaultProps:{className:D()("label",C()(g,"corner")&&g)},autoGenerateKey:!1});return B.a.createElement(w,r()({},A,{className:x}),"left"===c&&z,"right"!==g&&S,Object(W.a)(m||E,{defaultProps:N,autoGenerateKey:!1}),F.a.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==c&&z,"right"===g&&S)}}]),t}(L.Component);E()(V,"defaultProps",{type:"text"}),E()(V,"handledProps",["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"]),V.propTypes={},V.create=Object(W.c)(V,(function(e){return{type:e}})),t.a=V},543:function(e,t,a){},553:function(e,t,a){"use strict";a.r(t);var n=a(343),r=a(315),c=a.n(r),i=a(316),l=a(43),o=a(0),u=a.n(o),s=a(299),d=a(556),p=a(301),f=a(561),b=a(558),m=a(35),h=a(476),v=a(63),g=a(98),y=a(308),j=a(306),O=a(29);a(543);t.default=function(){var e=Object(o.useContext)(O.a),t=Object(o.useState)([]),a=Object(l.a)(t,2),r=a[0],E=a[1],x=Object(o.useState)(null),C=Object(l.a)(x,2),w=C[0],k=C[1],P=Object(o.useState)(0),I=Object(l.a)(P,2),N=I[0],A=I[1],R=Object(o.useState)(null),z=Object(l.a)(R,2),S=z[0],T=z[1],D=Object(o.useState)(!1),L=Object(l.a)(D,2),B=L[0],G=L[1],H=Object(o.useState)(!1),K=Object(l.a)(H,2),U=K[0],_=K[1];Object(o.useEffect)((function(){function t(){return(t=Object(i.a)(c.a.mark((function t(){var a,n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=0,0!==N&&(a=15*(N-1)),t.next=5,y.a.get("/admin/library/?type=all&limit=15&offset=".concat(a),{headers:{Authorization:"Bearer ".concat(e.admin.token)}});case 5:n=t.sent,r=n.data,k(r.library),T(Math.ceil(r.count/15)),G(!0),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[N]);var W=null;if(B||w)if(w.length>0){var M=w.map((function(e,t){return u.a.createElement(d.a.Row,{key:e.id},u.a.createElement(d.a.Cell,{width:"2"},t+1),u.a.createElement(d.a.Cell,{width:"12"},u.a.createElement("span",{style:{fontWeight:"bold"}},e.title)),u.a.createElement(d.a.Cell,{width:"2"},u.a.createElement(p.a,{title:"Open Link in New Tab",style:{marginRight:"10px"},color:"teal",circular:!0,as:"a",href:e.document_url,rel:"noopener noreferrer",target:"_blank",icon:"external alternate"})))}));W=u.a.createElement(d.a,{celled:!0,stackable:!1},u.a.createElement(d.a.Header,null,u.a.createElement(d.a.Row,null,u.a.createElement(d.a.HeaderCell,null,"Index"),u.a.createElement(d.a.HeaderCell,null,"Title"),u.a.createElement(d.a.HeaderCell,null,"Action"))),u.a.createElement(d.a.Body,null,M),S>1&&u.a.createElement(d.a.Footer,null,u.a.createElement(d.a.Row,null,u.a.createElement(d.a.HeaderCell,{colSpan:"3"},u.a.createElement(f.a,{firstItem:null,lastItem:null,prevItem:null,nextItem:null,activePage:N,totalPages:S,onPageChange:function(e,t){var a=t.activePage;return A(a)}})))))}else W=u.a.createElement(b.a,{size:"medium",textAlign:"center"},"Nothing has been added yet!");else W=u.a.createElement(s.a,{size:"medium",active:!0});var F=function(){var t=Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(!0),t.prev=1,t.next=4,Promise.all(r.map(function(){var t=Object(i.a)(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("/admin/signed-url/?type=".concat(a.object.type,"&name=").concat(a.object.name),{headers:{Authorization:"Bearer ".concat(e.admin.token)}});case 2:return n=t.sent,t.next=5,y.a.put(n.data.url,a.object,{headers:{"Content-Type":a.object.type}});case 5:if(r=t.sent,200!==r.status){t.next=9;break}return t.abrupt("return",y.a.post("/admin/library",{title:a.title,document_url:"".concat(j.b,"/").concat(n.data.key)},{headers:{Authorization:"Bearer ".concat(e.admin.token)}}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:t.sent&&window.location.reload(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),_(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),J=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files.length>5)){e.next=2;break}return e.abrupt("return",g.b.error("Only 5 at a time!"));case 2:for(a=[],n=0;n<t.target.files.length;n++)a.push({title:"",object:t.target.files[n]});E(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement("div",{className:"Users"},u.a.createElement(b.a,{size:"huge",dividing:!0},"Library"),u.a.createElement("div",null,0===r.length&&u.a.createElement("div",null,u.a.createElement("input",{accept:"*",hidden:!0,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){return J(e)}}),u.a.createElement("label",{htmlFor:"contained-button-file"},u.a.createElement(p.a,{style:{fontWeight:"normal"},size:"large",primary:!0,as:"span",icon:!0,labelPosition:"right"},"Upload Photos",u.a.createElement(m.a,{name:"upload"})))),r.length>0&&u.a.createElement("div",null,r.map((function(e,t){return u.a.createElement("div",{key:e.object.name,style:{marginBottom:"20px"}},u.a.createElement("div",{className:"accounts-input"},u.a.createElement("label",{className:"util-bold"},"Document Title"),u.a.createElement(h.a,{placeholder:"Enter file title",onChange:function(e,a){var c=a.value;return function(e,t){var a=Object(n.a)(r);a[e].title=t,E(a)}(t,c)}})),u.a.createElement(v.a,null,e.object.name,u.a.createElement(m.a,{name:"delete"})))})),u.a.createElement(p.a,{primary:!0,fluid:!0,icon:!0,size:"large",labelPosition:"right",loading:U,disabled:U,style:{fontWeight:"normal"},onClick:F},"Upload to Library"))),u.a.createElement(b.a,{size:"large",dividing:!0},"Index Table"),W)}}}]);
//# sourceMappingURL=11.3a819bfe.chunk.js.map