(this.webpackJsonpadmin_cogic=this.webpackJsonpadmin_cogic||[]).push([[12],{306:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var a={UNREAD:0,READ:1},i={NORMAL:1,MAINTENANCE:2,LOCKDOWN:3},r={PENDING:0,ACTIVE:1,DISABLED:2},c="https://library-cdn.s3-us-west-1.amazonaws.com",o="https://thegospelpage.com/"},308:function(e,t,n){"use strict";var a=n(320),i=n.n(a),r=n(306),c=i.a.create({baseURL:"".concat(r.a,"api")});t.a=c},323:function(e,t,n){var a=n(150);e.exports=function(e,t,n){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},329:function(e,t,n){var a=n(323),i=n(67),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var c=e[t];r.call(e,t)&&i(c,n)&&(void 0!==n||t in e)||a(e,t,n)}},365:function(e,t,n){var a=n(329),i=n(68),r=n(72),c=n(41),o=n(42);e.exports=function(e,t,n,l){if(!c(e))return e;for(var s=-1,u=(t=i(t,e)).length,d=u-1,m=e;null!=m&&++s<u;){var p=o(t[s]),h=n;if(s!=d){var b=m[p];void 0===(h=l?l(b,p,m):void 0)&&(h=c(b)?b:r(t[s+1])?[]:{})}a(m,p,h),m=m[p]}return e}},541:function(e,t,n){var a=n(365);e.exports=function(e,t,n){return null==e?e:a(e,t,n)}},560:function(e,t,n){"use strict";n.r(t);var a=n(315),i=n.n(a),r=n(316),c=n(43),o=n(0),l=n.n(o),s=n(308),u=n(558),d=n(303),m=n(545),p=n(5),h=n.n(p),b=n(101),f=n.n(b),v=n(23),g=n.n(v),k=n(11),E=n.n(k),y=n(12),O=n.n(y),C=n(13),w=n.n(C),S=n(14),x=n.n(S),j=n(4),M=n.n(j),N=n(15),I=n.n(N),A=n(2),R=n.n(A),D=n(541),P=n.n(D),T=n(7),U=n.n(T),z=(n(145),n(9)),B=n.n(z),F=n(300),L=n(3),_=n.n(L),V=(n(1),n(16)),K=n(61),q=n(60),G=n(38),J=n(90),W=function(e){function t(){var e,n;E()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=w()(this,(e=x()(t)).call.apply(e,[this].concat(i))),R()(M()(n),"inputRef",Object(o.createRef)()),R()(M()(n),"labelRef",Object(o.createRef)()),R()(M()(n),"canToggle",(function(){var e=n.props,t=e.disabled,a=e.radio,i=e.readOnly,r=n.state.checked;return!t&&!i&&!(a&&r)})),R()(M()(n),"computeTabIndex",(function(){var e=n.props,t=e.disabled,a=e.tabIndex;return B()(a)?t?-1:0:a})),R()(M()(n),"handleClick",(function(e){var t=n.props.id,a=n.state,i=a.checked,r=a.indeterminate,c=U()(n.inputRef.current,"contains",e.target),o=U()(n.labelRef.current,"contains",e.target),l=!o&&!c,s=!B()(t);o&&s||U()(n.props,"onClick",e,g()({},n.props,{checked:!i,indeterminate:!!r})),n.isClickFromMouse&&(n.isClickFromMouse=!1,o&&!s&&n.handleChange(e),l&&n.handleChange(e),o&&s&&e.stopPropagation())})),R()(M()(n),"handleChange",(function(e){var t=n.state.checked;n.canToggle()&&(U()(n.props,"onChange",e,g()({},n.props,{checked:!t,indeterminate:!1})),n.trySetState({checked:!t,indeterminate:!1}))})),R()(M()(n),"handleMouseDown",(function(e){var t=n.state,a=t.checked,i=t.indeterminate;U()(n.props,"onMouseDown",e,g()({},n.props,{checked:!!a,indeterminate:!!i})),e.defaultPrevented||U()(n.inputRef.current,"focus"),e.preventDefault()})),R()(M()(n),"handleMouseUp",(function(e){var t=n.state,a=t.checked,i=t.indeterminate;n.isClickFromMouse=!0,U()(n.props,"onMouseUp",e,g()({},n.props,{checked:!!a,indeterminate:!!i}))})),R()(M()(n),"setIndeterminate",(function(){var e=n.state.indeterminate;P()(n.inputRef,"current.indeterminate",!!e)})),n}return I()(t,e),O()(t,[{key:"componentDidMount",value:function(){this.setIndeterminate()}},{key:"componentDidUpdate",value:function(){this.setIndeterminate()}},{key:"render",value:function(){var e=this.props,n=e.className,a=e.disabled,i=e.label,r=e.id,c=e.name,o=e.radio,s=e.readOnly,u=e.slider,d=e.toggle,m=e.type,p=e.value,b=this.state,v=b.checked,g=b.indeterminate,k=_()("ui",Object(V.a)(v,"checked"),Object(V.a)(a,"disabled"),Object(V.a)(g,"indeterminate"),Object(V.a)(B()(i),"fitted"),Object(V.a)(o,"radio"),Object(V.a)(s,"read-only"),Object(V.a)(u,"slider"),Object(V.a)(d,"toggle"),"checkbox",n),E=Object(K.a)(t,this.props),y=Object(q.a)(t,this.props),O=Object(G.c)(E,{htmlProps:G.b}),C=f()(O,2),w=C[0],S=C[1],x=Object(J.b)(i,{defaultProps:{htmlFor:r},autoGenerateKey:!1})||l.a.createElement("label",{htmlFor:r});return l.a.createElement(y,h()({},S,{className:k,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),l.a.createElement(F.a,{innerRef:this.inputRef},l.a.createElement("input",h()({},w,{checked:v,className:"hidden",disabled:a,id:r,name:c,readOnly:!0,tabIndex:this.computeTabIndex(),type:m,value:p}))),l.a.createElement(F.a,{innerRef:this.labelRef},x))}}]),t}(n(133).a);R()(W,"defaultProps",{type:"checkbox"}),R()(W,"autoControlledProps",["checked","indeterminate"]),R()(W,"handledProps",["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"]),W.propTypes={};var H=n(301),Q=n(35),X=n(476),Y=n(409),Z=n(98),$=n(445),ee=n(29),te=n(306);t.default=function(e){var t=Object(o.useContext)(ee.a),n=Object(o.useState)(1),a=Object(c.a)(n,2),p=a[0],h=a[1];Object(o.useEffect)((function(){function e(){return(e=Object(r.a)(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("/admin/status",{headers:{Authorization:"Bearer ".concat(t.admin.token)}});case 3:n=e.sent,a=n.data,h(a.status),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var b={lockdown:p===te.d.LOCKED,maintain:p===te.d.MAINTAIN},f=function(){var e=Object(r.a)(i.a.mark((function e(n,a){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("/admin/new",n,{headers:{Authorization:"Bearer ".concat(t.admin.token)}});case 3:r=e.sent,(c=r.data).success?Z.b.success(c.msg):Z.b.error(c.msg),a.setSubmitting(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),a.setSubmitting(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(r.a)(i.a.mark((function e(n,a){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=1,n.lockdown?r=te.d.LOCKED:n.maintain&&(r=te.d.MAINTAIN),e.next=5,s.a.patch("/admin/status",{status:r},{headers:{Authorization:"Bearer ".concat(t.admin.token)}});case 5:c=e.sent,c.data?Z.b.success("Updated Successfully!"):Z.b.error("Something went wrong, try again!"),a.setSubmitting(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),a.setSubmitting(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"padded-content"},l.a.createElement(u.a,{size:"large",dividing:!0},"Settings"),l.a.createElement(d.a,{columns:"equal"},l.a.createElement(d.a.Column,null,l.a.createElement(u.a,{size:"medium",dividing:!0},"Site Status"),l.a.createElement(m.a,null,l.a.createElement(Y.b,{enableReinitialize:!0,initialValues:b,onSubmit:v},(function(e){return l.a.createElement(Y.a,null,l.a.createElement("div",{style:{marginBottom:"20px"}},l.a.createElement(W,{toggle:!0,label:"Enable Site Lockdown Mode",checked:e.values.lockdown,onChange:function(){return e.setFieldValue("lockdown",!e.values.lockdown)}})),l.a.createElement("div",{style:{marginBottom:"20px"}},l.a.createElement(W,{toggle:!0,label:"Enable Site Maintenanece Mode",checked:e.values.maintain,onChange:function(){return e.setFieldValue("maintain",!e.values.maintain)}})),l.a.createElement(H.a,{primary:!0,icon:!0,labelPosition:"right",type:"submit",disabled:e.isSubmitting,loading:e.isSubmitting},"Save Settings",l.a.createElement(Q.a,{name:"save"})))})))),l.a.createElement(d.a.Column,null,l.a.createElement(u.a,{size:"medium",dividing:!0},"Create New Admin"),l.a.createElement(m.a,null,l.a.createElement(Y.b,{initialValues:{email:""},validationSchema:$.a().shape({email:$.b().email("Invalid Email").required("Email is required!")}),onSubmit:f},(function(e){return l.a.createElement(Y.a,null,l.a.createElement("div",{className:"accounts-input"},l.a.createElement("label",null,"Email"),l.a.createElement(X.a,{name:"email",fluid:!0,placeholder:"Enter email",type:"email",value:e.values.email,onBlur:e.handleBlur,onChange:e.handleChange}),l.a.createElement("p",{className:"input-field-error"},e.errors.email&&e.touched.email&&e.errors.email)),l.a.createElement(H.a,{primary:!0,icon:!0,labelPosition:"right",type:"submit",loading:e.isSubmitting,disabled:e.isSubmitting},"Create Admin",l.a.createElement(Q.a,{name:"shield"})))}))))))}}}]);
//# sourceMappingURL=12.87e9aacc.chunk.js.map